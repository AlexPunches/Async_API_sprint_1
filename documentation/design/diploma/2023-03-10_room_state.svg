<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="527.0833px" preserveAspectRatio="none" style="width:1158px;height:527px;background:#FFFFFF;" version="1.1" viewBox="0 0 1158 527" width="1158.3333px" zoomAndPan="magnify"><defs><linearGradient id="g1i38ia78ro0ap0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#4DABF5"/><stop offset="100%" stop-color="#2196F3"/></linearGradient><filter height="300%" id="f1i38ia78ro0ap" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0833333333333335"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.166666666666667" dy="4.166666666666667" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><linearGradient id="g1i38ia78ro0ap1" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#FFFFFF"/></linearGradient><linearGradient id="g1i38ia78ro0ap2" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#B052C0"/><stop offset="100%" stop-color="#9C27B0"/></linearGradient></defs><g><rect fill="#FFFFFF" height="57.5846" id="_title" rx="4.1667" ry="4.1667" style="stroke:#CCCCCC;stroke-width:1.0416666666666667;" width="330.2083" x="412.5" y="20.8333"/><text fill="#2196F3" font-family="&quot;Verdana&quot;" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="296.875" x="429.1667" y="56.838">Синхронизация плееров</text><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;stroke-dasharray:5.0,5.0;" x1="126.0417" x2="126.0417" y1="158.5612" y2="446.875"/><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;stroke-dasharray:5.0,5.0;" x1="635.9375" x2="635.9375" y1="158.5612" y2="446.875"/><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;stroke-dasharray:5.0,5.0;" x1="821.3542" x2="821.3542" y1="158.5612" y2="446.875"/><rect fill="url(#g1i38ia78ro0ap0)" filter="url(#f1i38ia78ro0ap)" height="64.5182" rx="4.1667" ry="4.1667" style="stroke:#2196F3;stroke-width:1.0416666666666667;" width="134.375" x="57.2917" y="89.8763"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="41.6667" x="101.5625" y="119.1874">Плеер</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="98.9583" x="75" y="133.7382">организатора</text><rect fill="url(#g1i38ia78ro0ap0)" filter="url(#f1i38ia78ro0ap)" height="64.5182" rx="4.1667" ry="4.1667" style="stroke:#2196F3;stroke-width:1.0416666666666667;" width="134.375" x="57.2917" y="445.8333"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="41.6667" x="101.5625" y="475.1444">Плеер</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="98.9583" x="75" y="489.6952">организатора</text><rect fill="url(#g1i38ia78ro0ap0)" filter="url(#f1i38ia78ro0ap)" height="64.5182" rx="4.1667" ry="4.1667" style="stroke:#2196F3;stroke-width:1.0416666666666667;" width="85.4167" x="592.1875" y="89.8763"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="34.375" x="615.625" y="119.1874">Кино</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="50" x="609.8958" y="133.7382">вместе</text><rect fill="url(#g1i38ia78ro0ap0)" filter="url(#f1i38ia78ro0ap)" height="64.5182" rx="4.1667" ry="4.1667" style="stroke:#2196F3;stroke-width:1.0416666666666667;" width="85.4167" x="592.1875" y="445.8333"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="34.375" x="615.625" y="475.1444">Кино</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="50" x="609.8958" y="489.6952">вместе</text><rect fill="url(#g1i38ia78ro0ap0)" filter="url(#f1i38ia78ro0ap)" height="64.5182" rx="4.1667" ry="4.1667" style="stroke:#2196F3;stroke-width:1.0416666666666667;" width="91.6667" x="774.4792" y="89.8763"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="41.6667" x="797.3958" y="119.1874">Плеер</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="56.25" x="792.1875" y="133.7382">зрителя</text><rect fill="url(#g1i38ia78ro0ap0)" filter="url(#f1i38ia78ro0ap)" height="64.5182" rx="4.1667" ry="4.1667" style="stroke:#2196F3;stroke-width:1.0416666666666667;" width="91.6667" x="774.4792" y="445.8333"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="41.6667" x="797.3958" y="475.1444">Плеер</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="56.25" x="792.1875" y="489.6952">зрителя</text><polygon fill="#2196F3" points="623.9583,206.4453,634.375,210.612,623.9583,214.7786,628.125,210.612" style="stroke:#2196F3;stroke-width:1.0416666666666667;"/><line style="stroke:#2196F3;stroke-width:3.125;" x1="126.0417" x2="630.2083" y1="210.612" y2="210.612"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="464.5833" x="143.75" y="195.164">С заданной частотой оповещает сервер о статусе проигрывания.</text><rect fill="url(#g1i38ia78ro0ap1)" filter="url(#f1i38ia78ro0ap)" height="3.125" rx="4.1667" ry="4.1667" style="stroke:url(#g1i38ia78ro0ap1);stroke-width:1.0416666666666667;" width="1135.4167" x="10.4167" y="250.179"/><line style="stroke:#666666;stroke-width:1.0416666666666667;" x1="10.4167" x2="1145.8333" y1="250.179" y2="250.179"/><line style="stroke:#666666;stroke-width:1.0416666666666667;" x1="10.4167" x2="1145.8333" y1="253.304" y2="253.304"/><rect fill="url(#g1i38ia78ro0ap1)" filter="url(#f1i38ia78ro0ap)" height="43.7174" rx="4.1667" ry="4.1667" style="stroke:#666666;stroke-width:2.0833333333333335;" width="585.4167" x="285.4167" y="229.362"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="545.8333" x="302.0833" y="255.5481">В комнату входит новый зритель. Или переподключается отвалившийся.</text><polygon fill="#2196F3" points="647.9167,320.9635,637.5,325.1302,647.9167,329.2969,643.75,325.1302" style="stroke:#2196F3;stroke-width:1.0416666666666667;"/><line style="stroke:#2196F3;stroke-width:3.125;" x1="641.6667" x2="820.8333" y1="325.1302" y2="325.1302"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="116.6667" x="664.5833" y="309.6822">get_current_state</text><polygon fill="#2196F3" points="809.375,397.4447,819.7917,401.6113,809.375,405.778,813.5417,401.6113" style="stroke:#2196F3;stroke-width:1.0416666666666667;"/><line style="stroke:#2196F3;stroke-width:3.125;stroke-dasharray:2.0,2.0;" x1="636.4583" x2="815.625" y1="401.6113" y2="401.6113"/><text fill="#222222" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="84.375" x="654.1667" y="386.1633">CurrentState</text><path d="M827.0833,342.8385 L827.0833,423.0469 A4.1667,4.1667 0 0 0 831.25,427.2135 L1128.125,427.2135 A4.1667,4.1667 0 0 0 1132.2917,423.0469 L1132.2917,349.0885 L1121.875,338.6719 L831.25,338.6719 A4.1667,4.1667 0 0 0 827.0833,342.8385 " fill="url(#g1i38ia78ro0ap2)" filter="url(#f1i38ia78ro0ap)" style="stroke:#1A78C2;stroke-width:1.0416666666666667;"/><path d="M1121.875,338.6719 L1121.875,347.0052 A2.0833,2.0833 0 0 0 1123.9583,349.0885 L1132.2917,349.0885 L1121.875,338.6719 " fill="url(#g1i38ia78ro0ap2)" style="stroke:#1A78C2;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="229.1667" x="843.75" y="365.8997">"Кино вместе" образается к логу</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="233.3333" x="843.75" y="380.4504">состояний плеера организатора,</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="262.5" x="843.75" y="395.0012">чтобы отослать новейшее состояние</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="163.5417" x="843.75" y="409.552">плееру нового зрителя.</text><!--MD5=[91e536f67fb7fe08975f5615ca676c29]
@startuml
!theme materia
skinparam actorStyle awesome
skinparam packageStyle rectangle
skinparam backgroundColor white

title Синхронизация плееров

participant "Плеер \nорганизатора" as HostPlayer
participant "Кино \nвместе" as MovieMates
HostPlayer -> MovieMates: С заданной частотой оповещает сервер о статусе проигрывания.

== В комнату входит новый зритель. Или переподключается отвалившийся. ==
participant "Плеер \nзрителя" as ViewerPlayer
ViewerPlayer -> MovieMates: get_current_state
MovieMates - -> ViewerPlayer: CurrentState
note right
  "Кино вместе" образается к логу
  состояний плеера организатора,
  чтобы отослать новейшее состояние
  плееру нового зрителя.
end note
@enduml

@startuml



skinparam backgroundColor transparent
skinparam useBetaStyle false






<style>
  root {
    BackgroundColor transparent
    FontColor #FFF
    HyperLinkColor #fd7e14
    LineColor #1a78c2
    LineThickness 1
    Margin 10
    Padding 6
    Shadowing 0.0
  }
  node {
   Padding 15
   roundcorner 20
   BackgroundColor #2196F3-#1a78c2
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  groupHeader {
    BackgroundColor #fff
    FontColor #9C27B0
    FontStyle bold
  }
  header {
    LineThickness 0
  }
  referenceHeader {
    BackgroundColor transparent
    FontColor #222
    FontStyle bold
  }
  separator {
    BackgroundColor #222
    FontColor transparent
    FontStyle bold
  }
  title {
	FontSize 20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor  #fff-#fff
	FontColor #2196F3
	BorderColor #fff
  }
  nwdiagDiagram {
	network {
			FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3    
		LineColor #2196F3
		LineThickness 1.0
		FontColor #1a78c2
	}
	server {
			FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	}
	arrow {
		FontColor #1a78c2
		LineColor #1a78c2
	}
	group {
		BackGroundColor #fff
		LineColor $LIGHT_DARK
		LineThickness 2.0
		Margin 5
		Padding 5
	}
  }
  ganttDiagram {
	task {
			FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
		LineColor #2196F3
		Margin 10
		Padding 6
	}
	note {
		FontColor #FFF
		LineColor #7D1F8D
		BackGroundColor #9C27B0
	}
	separator {
		LineColor #fff
		BackGroundColor #fff-#cccccc
		FontColor #222
	}
	milestone {
		FontColor #9C27B0
		FontSize 16
		FontStyle italic
		BackGroundColor #fff
		LineColor #cccccc
	}
	timeline {
		BackgroundColor #fff
		FontColor #222
	}
	closed {
		BackgroundColor #CC7A00
		FontColor #FFF
	}
  }
</style>
skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             true
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               10
skinparam ArrowColor            #666
skinparam stereotype {
    CBackgroundColor #fff
    CBorderColor #cccccc
    ABackgroundColor #70bf73
    ABorderColor #3D8C40
    IBackgroundColor #B7161C
    IBorderColor #b7161c
    EBackgroundColor #ffad33
    EBorderColor #CC7A00
    NBackgroundColor #b052c0
    NBorderColor #7D1F8D
}
skinparam title {
	FontColor	                 #2196F3
	BorderColor	                 #cccccc
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              #fff-#fff
}

skinparam legend {
	BackgroundColor #fff
	BorderColor #cccccc
	FontColor #222
}

skinparam swimlane {
	BorderColor #9C27B0
	BorderThickness 2
	TitleBackgroundColor  #fff-#fff
	TitleFontColor #2196F3
}


skinparam activity {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BarColor #4CAF50
	StartColor #9C27B0
	EndColor #9C27B0
	DiamondBackgroundColor #FFF-#fff
  	DiamondBorderColor #cccccc
	DiamondFontColor #222
}


skinparam participant {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam arrow {
	Thickness 3
	Color #2196F3
	FontColor #222
}


skinparam sequence {
	BorderColor #2196F3
	TitleFontColor #2196F3
	BackgroundColor transparent
	StartColor #2196F3
	EndColor #2196F3
	BoxBackgroundColor #fff
	BoxBorderColor #666
	BoxFontColor #222
	DelayFontColor #222
	LifeLineBorderColor #cccccc
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #fff
	GroupBorderColor #666
	GroupFontColor #222
	GroupHeaderFontColor #9C27B0
	DividerBackgroundColor #FFF-#fff
    DividerBorderColor #666
    DividerBorderThickness 2
    DividerFontColor #222
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #666
	ReferenceFontColor #222
	ReferenceHeaderFontColor #9C27B0
	StereotypeFontColor #FFF
}


skinparam partition {
	BorderColor #2196F3
	FontColor #2196F3
	BackgroundColor transparent
}


skinparam collections {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}


skinparam control {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam entity {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam boundary {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam agent {
	BackgroundColor #orange
	BorderColor #999999
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor #b052c0-#9C27B0
	BorderColor #9C27B0
	FontColor #FFF
}


skinparam artifact {
	BackgroundColor #FFF-#fff
	BorderColor #666
	FontColor #666
}


skinparam component {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}


skinparam interface {
	BackgroundColor  #B7161C
	BorderColor  #e51c23
	FontColor #222
}


skinparam storage {
	BackgroundColor #ffad33-#ff9800
  	BorderColor #ff9800
	FontColor #FFF
}


skinparam node {
	BackgroundColor #fff-#fff
	BorderColor #222
	FontColor #222
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #222
}


skinparam database {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	FontColor #222
}


skinparam class {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	HeaderBackgroundColor #2196F3-#1a78c2
	StereotypeFontColor #222
	BorderThickness 1
	AttributeFontColor #fff
	AttributeFontSize 11
}


skinparam object {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	StereotypeFontColor #222
	BorderThickness 1
	AttributeFontColor #222
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BorderThickness 2
	StereotypeFontColor #2196F3
}


skinparam rectangle {
	FontColor #2196F3
	BackgroundColor #fff-#fff
	BorderThickness 2
	StereotypeFontColor #2196F3
}


skinparam package {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BackgroundColor #fff-#fff
	BorderThickness 2
}


skinparam folder {
	BackgroundColor #FFF-#fff
  	BorderColor #ff9800
	FontColor #ff9800
	BorderThickness 2
}


skinparam frame {
	BackgroundColor #FFF-#fff
  	BorderColor #9C27B0
	FontColor #9C27B0
	BorderThickness 2
}


skinparam state {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
	BorderColor #1a78c2
	StartColor #9C27B0
	EndColor #9C27B0
	AttributeFontColor #222
	AttributeFontSize 11
}


skinparam queue {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}


skinparam card {
	BackgroundColor #b052c0-#9C27B0
	BorderColor #9C27B0
	FontColor #FFF
}


skinparam file {
	BackgroundColor #fff-#fff
	BorderColor #666
	FontColor #666

}


skinparam stack {
		FontColor #FFF
	BorderColor #2196F3
	BackgroundColor #4dabf5-#2196F3
}
skinparam actorStyle awesome
skinparam packageStyle rectangle
skinparam backgroundColor white

title Синхронизация плееров

participant "Плеер \nорганизатора" as HostPlayer
participant "Кино \nвместе" as MovieMates
HostPlayer -> MovieMates: С заданной частотой оповещает сервер о статусе проигрывания.

== В комнату входит новый зритель. Или переподключается отвалившийся. ==
participant "Плеер \nзрителя" as ViewerPlayer
ViewerPlayer -> MovieMates: get_current_state
MovieMates - -> ViewerPlayer: CurrentState
note right
  "Кино вместе" образается к логу
  состояний плеера организатора,
  чтобы отослать новейшее состояние
  плееру нового зрителя.
end note
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>